<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Data</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <h1>Sensor Data</h1>
    <div id="app">
      <h2>Add Device</h2>
      <form id="device-form" @submit.prevent="processForm">
        <label for="location">Location</label>
        <input type="text" id="location" v-model="deviceLocation" placeholder="e.g. Basement">
        <label for="device-id">Device ID:</label>
        <input type="text" id="device-id" v-model="deviceId">
        <label for="auth-token">Auth Token:</label>
        <input type="text" id="auth-token" v-model="authToken">
        <input type="submit" name="Submit" value="Submit">
      </form>

      <h2>Devices</h2>
      <table id="devices-table">
        <thead>
          <tr><th>Location</th><th>Device Id</th><th>Polling Enabled</th><th>View Entries</th></tr>
        </thead>
        <tbody>
          <tr v-for="(item, index) in this.devices">
            <td>{{ item.location }}</td>
            <td>{{ item.device_id }}</td>
            <td>{{ item.polling_enabled }}</td>
            <td><button @click="getEntries(item._id)">Show Entries</button></td>
          </tr>
        </tbody>
      </table>
      <h2>Entries</h2>
      <ul>
        <li v-for="(entry, index) in this.entries">
          {{ entry.date }}: temperature: {{ entry.temperature }} - humidity: {{entry.humidity}} - voc: {{entry.voc}}
        </li>
      </ul>
      
    </div>
  </body>
  <script src="scripts/main.js"></script>
</html>
